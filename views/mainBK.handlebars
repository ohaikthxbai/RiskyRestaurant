<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M"
        crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1"
        crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css?family=Special+Elite" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=PT+Sans:700" rel="stylesheet">
    <link rel="shortcut icon" href="/assets/images/rr-logo.png" />
    <link rel="stylesheet" type="text/css" href="/assets/css/restaurant_style.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://www.gstatic.com/firebasejs/live/3.0/firebase.js"></script>
    <title>Risky Restaurants</title>
</head>
<body>
    <img class="translucent slant-top" src="/assets/images/navbar-diagonal-tl.png" alt="">
    <div>
        <h1 class="title"><a href="http://riskyrestaurants.com/">Risky Restaurants</a></h1>
    </div>
    <nav class="translucent fixed-top navbar">
        <a class="nav-link active" href="http://riskyrestaurants.com/">Home</a>
        <a class="nav-link" href="map">Map</a>
    
        <input id="txtEmail" type="email" placeholder="Email">
        <input id="txtPassword" type="password" placeholder="Password">
        <button id="btnLogin" class="btn btn-success">Log in</button>
        <button id="btnSignUp" class="btn btn-primary">Sign Up</button>
        <button id="btnLogout" class="btn btn-action hide">Log out</button>
<body>
<script> 
   (function () {
  // body...
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyBl9z6xEeC_Vigj7etZu7QlAbxsqhpZKDA",
    authDomain: "risky-rest.firebaseapp.com",
    databaseURL: "https://risky-rest.firebaseio.com",
    projectId: "risky-rest",
    storageBucket: "risky-rest.appspot.com",
    messagingSenderId: "681701686830"
  }; 
  firebase.initializeApp(config);
// get elements
const txtEmail = document.getElementById('txtEmail');
const txtPassword = document.getElementById('txtPassword');
const btnLogin = document.getElementById('btnLogin');
const btnSignUp = document.getElementById('btnSignUp');
const btnLogout = document.getElementById('btnLogout');
btnLogin.addEventListener('click' , e => {
const email = txtEmail.value;
const pass = txtPassword.value;
const auth = firebase.auth();
const promise = auth.signInWithEmailAndPassword(email, pass);
promise.catch(e => console.log(e.message));
});
btnSignUp.addEventListener('click', e =>{
const email = txtEmail.value;
const pass = txtPassword.value;
const auth = firebase.auth();
const promise = auth.createUserWithEmailAndPassword(email, pass);
promise.catch(e => console.log(e.message));
});
btnLogout.addEventListener('click' , e=> {
firebase.auth().signOut();
});
firebase.auth().onAuthStateChanged(firebaseUser => {
if (firebaseUser){
console.log(firebaseUser);
if(firebaseUser) {
   // window.location = 'dashboard.html'; //After successful login, user will be redirected to home.html
  }
btnLogout.classList.remove('hide');
}else{
console.log('not logged in');
btnLogout.classList.add('hide');
}
});
// var auth = firebase.auth();
// var emailAddress = user;
// auth.sendPasswordResetEmail(emailAddress).then(function() {
//   // Email sent.
// }).catch(function(error) {
//   // An error happened.
// });
}());
</script>
    </nav>
            {{{ body }}}
    <br>
    <br>
    <br>
    <footer class="translucent footer fixed-bottom">
    </footer>
</body>
</html>